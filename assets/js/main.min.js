function login(e,r){"undefined"==typeof r&&(r="");var t=!0;if("logged"==e)i="",action=baseURL+"users/login";else if("facebook"==e)i={fb:"facebook"},action=baseURL+"users/login";else if("register"==e){if(""!=r)var o="#fr-"+r+"-register";else var o="#fr-register";t=jQuery(o).validate({event:"click"});var i={};jQuery(o).find("input").each(function(){i[jQuery(this).attr("name")]=jQuery(this).val()}),action=baseURL+"users/register"}else if("forgot"==e){t=jQuery("#fr-forgot").validate({event:"click"});var s=jQuery("#forgot-email").val(),a=jQuery("#forgot-password").val(),n=jQuery("#forgot-cfpassword").val();i={email:""+s,password:""+a,cf_password:""+n},action=baseURL+"users/forgot"}else if("change_pass"==e){t=jQuery("#fr-change-pass").validate({event:"click"});var c=jQuery("#change-password").val(),u=jQuery("#change-cfpassword").val();i={password:""+c,cf_password:""+u},action=baseURL+"users/change_pass"}else{var o=jQuery(e).parents("form");t=jQuery("#"+o.attr("id")).validate({event:"click"});var i={};o.find("input").each(function(){i[jQuery(this).attr("name")]=jQuery(this).val()}),action=baseURL+"users/login"}if(1==t){var l=jQuery(e);"register"==e?l=jQuery("#register-button"+r):"forgot"==e?l=jQuery("#forgot-button"):"change_pass"==e&&(l=jQuery("#change-button")),l.button("loading"),jQuery.ajax({type:"POST",url:action,data:i,dataType:"html",success:function(t){if(""!=t){if("undefined"==typeof r?jQuery(".close").click():"cart"==r&&jQuery("#user-form-cart").remove(),1!=t){jQuery("#f-login").children(".modal-dialog").children(".modal-content").html(t);var o="";o+="<li>",o+='<a data-target="#f-login" data-toggle="modal" href="javascript:void(0)">'+myAccount+"</a>",o+="</li>",o+="<li>",o+='<a href="'+baseURL+'users/logout">'+logOut+"</a>",o+="</li>",jQuery(".menu-top").children("ul").html(o),l.button("reset"),jQuery(".menu-top").children("ul").show(),user_id=document.getElementById("user-id").value,"undefined"!=typeof login_url_post&&jQuery.ajax({type:"POST",url:login_url_post,data:"",dataType:"html",success:function(e){jQuery(".module-login").html(e)}})}else alert(passSuccess);l.button("reset")}else"register"==e?alert(registerError):"forgot"==e||"change_pass"==e?alert(passError):"logged"!=e&&alert(loginError),l.button("reset")}})}}jQuery(function(){jQuery(".arrow-mobile").click(function(){var e=jQuery(this).attr("data"),r=jQuery("#dg-"+e).css("display");"right"==e&&("none"==r?(jQuery(this).children("i").attr("class","glyphicons chevron-right"),jQuery("#dg-right").show(),jQuery(this).css({left:"-32px",right:"auto"}),jQuery(".accordion").accordion("refresh")):(jQuery(this).children("i").attr("class","glyphicons chevron-left"),jQuery("#dg-right").hide(),jQuery(this).css({left:"auto",right:"0"}))),"left"==e&&("none"==r?(jQuery(this).children("i").attr("class","glyphicons chevron-left"),jQuery("#dg-left").show(),jQuery(this).css({left:"auto",right:"-32px"}),jQuery(".accordion").accordion("refresh")):(jQuery(this).children("i").attr("class","glyphicons chevron-right"),jQuery("#dg-left").hide(),jQuery(this).css({left:"0",right:"auto"})))})}),window.onresize=function(){jQuery(".accordion").accordion("refresh")},jQuery("document").ready(function(){jQuery("#tools-help").bind("click",function(){jQuery("#help-tabs").tabs({beforeLoad:function(e,r){r.jqXHR.error(function(){r.panel.html("Couldn't load this tab. We'll try to fix this as soon as possible. If this wouldn't be a demo.")})}})}),jQuery("#register-button").click(function(){login("register")}),jQuery("#forgot-button").click(function(){login("forgot")}),jQuery("#click_forgot").click(function(){jQuery("#f-login-content").hide(),jQuery("#f-forgot-content").show()}),jQuery("#click_login").click(function(){jQuery("#f-login-content").show(),jQuery("#f-forgot-content").hide()})});